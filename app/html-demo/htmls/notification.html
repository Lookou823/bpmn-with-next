<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications Example</title>
</head>

<body>

    <button id="notify-btn">通知我</button>

    <script>


        // 启用实验
        document.getElementById('notify-btn').addEventListener('click', function () {
            if ('Notification' in window) {
                if (Notification.permission === "granted") {
                    // 检查是否已授予通知权限；如果是的话，创建一个通知
                    const notification = new Notification("欢迎来到我的网站！");

                    // …
                } else if (Notification.permission !== "denied") {
                    // 我们需要征求用户的许可
                    Notification.requestPermission().then((permission) => {
                        console.log('Notification.permission', permission)

                        // 如果用户接受，我们就创建一个通知
                        if (permission === "granted") {
                            const notification = new Notification("欢迎来到我的网站！");
                            // …
                            notification.onclick = function () {
                                window.focus();
                                notification.close();
                            };
                        };
                    })
                }
            }
            else {
                alert('桌面通知不被支持。');
            }
        });
    </script>

</body>

</html>